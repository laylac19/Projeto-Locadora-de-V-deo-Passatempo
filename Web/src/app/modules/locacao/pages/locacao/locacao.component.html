<div class="form p-fluid">
    <form [formGroup]="formLocacao" class="ui-fluid">
        <div class="area flex">
            <div class="field col-8">
            <span class="item">
                <label class="campo-form">Cliente</label>
                <p-dropdown formControlName="idCliente" [filter]="true" [options]="clientesDropDown"
                            placeholder="Selecione"
                            appendTo="body">
                    <ng-template let-item pTemplate="item">
                        <div class="ui-helper-clearfix div-itens">
                            <div class="place-drop">{{item.label}}</div>
                        </div>
                    </ng-template>
                </p-dropdown>
            </span>
            </div>
            <div class="field col-4">
                <span class="item">
                    <label class="campo-form" for="inputData">Data Locação</label>
                    <p-calendar
                        class="calendario"
                        id="inputData"
                        formControlName="dtLocacao"
                        dateFormat="dd/mm/yy"
                        appendTo="body"
                        [yearNavigator]="true"
                        [defaultDate]="dtLocacao"
                        [placeholder]="setarDataLocacao()"
                        [showIcon]="true"
                        (onSelect)="setarValorDataPrevista()">
                    </p-calendar>
                </span>
            </div>
        </div>
        <div class="area-acordion flex col-12">
            <div class="field col-12">
            <span class="item">
                <label class="campo-form">Título Item</label>
                <p-dropdown formControlName="idItem" [filter]="true" [options]="itensDropdown"
                            placeholder="Selecione o Título do Item"
                            appendTo="body" (onChange)="setarValorDataPrevista()">
                   <ng-template let-item pTemplate="item">
                       <div class="ui-helper-clearfix div-itens">
                           <div class="place-drop">{{item.label}}</div>
                       </div>
                   </ng-template>
               </p-dropdown>
            </span>
            </div>
        </div>
        <div class="detalhe"></div>
        <div class="area flex readonly pb-2 align-items-end">
            <div class="field-acordion col-3">
                <label class="campo-form" for="inputDataPrevista">Data Devolução Prevista</label>
                <p-calendar
                    class="calendario"
                    id="inputDataPrevista"
                    formControlName="dtDevolucaoPrevista"
                    dateFormat="dd/mm/yy"
                    appendTo="body"
                    [yearNavigator]="true"
                    [defaultDate]="dtDevolucaoPrevista"
                    [showIcon]="true"
                    [readonlyInput]="true">
                </p-calendar>
            </div>
            <div class="field-acordion col-3">
                <label class="campo-form">SubTotal R$</label>
                <p-inputNumber formControlName="valorCobrado" mode="currency" locale="pt-BR" currency="BRL" [min]="0"
                               [showButtons]="true" [step]="5"></p-inputNumber>
            </div>
            <div class="field-acordion col-3" *ngIf="depoisSalvar">
                <label class="campo-form" for="inputDataDevolucao">Data Devolução</label>
                <p-calendar
                    class="calendario"
                    id="inputDataDevolucao"
                    formControlName="dtLocacao"
                    dateFormat="dd/mm/yy"
                    appendTo="body"
                    [yearNavigator]="true"
                    [defaultDate]="dtDevolucaoEfetiva"
                    [showIcon]="true">
                </p-calendar>
            </div>
            <div class="field-acordion col-3" *ngIf="depoisSalvar">
                <label class="campo-form">Multa Cobrada R$</label>
                <p-inputNumber formControlName="multaCobrada" mode="currency" locale="pt-BR" currency="BRL"
                               [min]="0" [showButtons]="true" [step]="5"></p-inputNumber>
            </div>
        </div>
        <div class="field readonly col-6 pb-5 align-items-end">
            <label class="campo-form">Valor Total R$</label>
            <p-inputNumber formControlName="valorTotal" mode="currency" locale="pt-BR" currency="BRL"
                           [min]="0" [showButtons]="true" [step]="5"></p-inputNumber>
        </div>
    </form>
</div>
<div class="action-form">
    <button type="button" pButton icon="pi pi-times" label="Cancelar" (click)="fecharForm()"
            class="button-action ui-button-secondary mr-3"></button>
    <button type="button" pButton icon="pi pi-check" label="Salvar" (click)="salvarFormulario()"
            class="button-action button-save-new"></button>
</div>
